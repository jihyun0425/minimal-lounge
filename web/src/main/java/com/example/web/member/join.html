<!DOCTYPE html>
<html lang="ko">
<meta charset="UTF-8">
<head>
    <meta name="viewport" content="width=device-width, height=device-height, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0">
    <link rel="stylesheet" href="joiner.css">
</head>
<body>
<div class="box">
    <input type="email" placeholder="ID" />
    <input type="password" placeholder="Password" />
    <button>Sign in</button>

    <div class="sign-up-box">
        <i class="material-icons">회원가입</i>
    </div>
</div>

<script>
    const signUpBox = document.querySelector(".sign-up-box");

    signUpBox.addEventListener("click", handleClick, false);
    function handleClick(event) {
        if (signUpBox.classList.contains("active")) return;
        let str = `
        <span onclick="event.stopPropagation(); removedActive();">X</span>
        <input type="text" name="name" placeholder="ID"/>
        <input type="email" name="email" placeholder="Email"/>
        <input type="password" name="password" placeholder="Password"/>
        <button onclick="event.stopPropagation(); handleSignUp();" >Sign up</button>
    `;
        this.classList.toggle("active");
        this.innerHTML = "";
        setTimeout(() => (this.innerHTML = str), 500);
    }

    function removedActive() {
        signUpBox.classList.remove("active");
        signUpBox.innerHTML = `<i class="material-icons">회원가입</i>`;
    }
    function handleSignUp() {
        let signUpBoxActive = document.querySelector(".active");
        let inputs = signUpBoxActive.querySelectorAll("input");
        let idField = inputs[0];
        let emailField = inputs[1];
        let passwordField = inputs[2];
        if (
            idField.value === "" ||
            emailField.value === "" ||
            passwordField.value === ""
        ) {
            return;
        }
        removedActive();
    }
</script>

</body>
</html>